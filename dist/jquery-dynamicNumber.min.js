/**
* jQuery dynamicNumber v0.2.0
* https://github.com/amazingSurge/jquery-dynamicNumber
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{var i={exports:{}};e(t.jQuery),t.jqueryDynamicNumberEs=i.exports}}(this,function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=e(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a={from:0,to:100,duration:1e3,decimals:0,format:function(t,e){return t.toFixed(e.decimals)},percentage:{decimals:0},currency:{indicator:"$",size:3,decimals:"2",separator:",",decimalsPoint:"."},group:{size:3,decimals:"2",separator:",",decimalsPoint:"."}},s={percentage:function(t,e){return t.toFixed(e.decimals)+"%"},currency:function(t,e){return e.indicator+s.group(t,e)},group:function(t,e){var i=e.decimals,n="";if(i){var o=Math.pow(10,i);n=String(Math.round(t*o)/o)}else n=String(Math.round(t));if(n=n.split("."),n[0].length>3){var r=new RegExp("\\B(?=(?:\\d{"+e.size+"})+(?!\\d))","g");n[0]=n[0].replace(r,e.separator)}return(n[1]||"").length<i&&(n[1]=n[1]||"",n[1]+=new Array(i-n[1].length+1).join("0")),n.join(e.decimalsPoint)}},u=function(){return window.performance.now?window.performance.now():Date.now()};Date.now||(Date.now=function(){return(new Date).getTime()});for(var f=["webkit","moz"],c=0;c<f.length&&!window.requestAnimationFrame;++c){var l=f[c];window.requestAnimationFrame=window[l+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"]}!/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)&&window.requestAnimationFrame&&window.cancelAnimationFrame||!function(){var t=0;window.requestAnimationFrame=function(e){var i=Date.now(),n=Math.max(t+16,i);return setTimeout(function(){e(t=n)},n-i)},window.cancelAnimationFrame=clearTimeout}();var d="dynamicNumber",h=function(){function t(e,o){i(this,t),this.element=e,this.$element=(0,n.default)(e),this.options=n.default.extend(!0,{},a,o,this.$element.data()),this.options.step=parseFloat(this.options.step,10),this.first=this.$element.attr("aria-valuenow"),this.first=this.first?this.first:this.options.from,this.first=parseFloat(this.first,10),this.now=this.first,this.to=parseFloat(this.options.to,10),this._requestId=null,this.initialized=!1,this._trigger("init"),this.init()}return r(t,[{key:"init",value:function(){this.initialized=!0,this._trigger("ready")}},{key:"_trigger",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var o=[this].concat(i);this.$element.trigger(d+"::"+t,o),t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)});var r="on"+t;"function"==typeof this.options[r]&&this.options[r].apply(this,i)}},{key:"go",value:function(t){var e=this;this._clear(),t="undefined"==typeof t?this.to:parseFloat(t,10);var i=this.now,n=u(),o=function o(r){var a=(r-n)/e.options.duration,s=Math.abs(a*(i-t));t>i?(s=i+s,s>t&&(s=t)):(s=i-s,s<t&&(s=t)),e._update(s),s===t?(window.cancelAnimationFrame(e._requestId),e._requestId=null,e.now===e.to&&e._trigger("finish")):e._requestId=window.requestAnimationFrame(o)};this._requestId=window.requestAnimationFrame(o)}},{key:"_update",value:function(t){this.now=t,this.$element.attr("aria-valuenow",this.now);var e=t;isNaN(t)||("function"==typeof this.options.format?e=this.options.format.apply(this,[t,this.options]):"string"==typeof this.options.format&&("undefined"!=typeof s[this.options.format]?e=s[this.options.format].apply(this,[t,this.options[this.options.format]]):"function"==typeof window[this.options.format]&&(e=window[this.options.format].apply(this,[t,this.options])))),this.$element.html(e),this._trigger("update",t)}},{key:"get",value:function(){return this.now}},{key:"start",value:function(){this._clear(),this._trigger("start"),this.go(this.to)}},{key:"_clear",value:function(){this._requestId&&(window.cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"reset",value:function(){this._clear(),this._update(this.first),this._trigger("reset")}},{key:"stop",value:function(){this._clear(),this._trigger("stop")}},{key:"finish",value:function(){this._clear(),this._update(this.to),this._trigger("finish")}},{key:"destory",value:function(){this.$element.data(d,null),this._trigger("destory")}}]),t}(),m={version:"0.2.0"},p="dynamicNumber",y=n.default.fn.dynamicNumber,w=function(t){for(var e=this,i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if("string"==typeof t){var s=function(){var i=t;if(/^_/.test(i))return{v:!1};if(!/^(get)/.test(i))return{v:e.each(function(){var t=n.default.data(this,p);t&&"function"==typeof t[i]&&t[i].apply(t,r)})};var o=e.first().data(p);return o&&"function"==typeof o[i]?{v:o[i].apply(o,r)}:void 0}();if("object"===("undefined"==typeof s?"undefined":o(s)))return s.v}return this.each(function(){(0,n.default)(this).data(p)||(0,n.default)(this).data(p,new h(this,t))})};n.default.fn.dynamicNumber=w,n.default.dynamicNumber=n.default.extend({setDefaults:h.setDefaults,noConflict:function(){return n.default.fn.dynamicNumber=y,w}},m)});